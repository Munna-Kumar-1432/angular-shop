<div class="min-h-screen bg-gray-100 py-12">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <h1 class="text-3xl font-bold text-gray-900 mb-8">Shopping Cart</h1>

    <!-- Empty Cart -->
    <div *ngIf="cartItems.length === 0" class="bg-white rounded-lg shadow p-8 text-center">
      <p class="text-gray-500 text-lg mb-4">Your cart is empty</p>
      <a routerLink="/products" class="inline-block bg-indigo-600 text-white px-6 py-3 rounded-md hover:bg-indigo-700 transition-colors duration-300">
        Continue Shopping
      </a>
    </div>

    <!-- Cart Items -->
    <div *ngIf="cartItems.length > 0" class="space-y-8">
      <!-- Cart Items List -->
      <div class="bg-white rounded-lg shadow overflow-hidden">
        <div class="divide-y divide-gray-200">
          <div *ngFor="let item of cartItems" class="p-6 flex items-center space-x-6">
            <!-- Product Image -->
            <div class="flex-shrink-0 w-24 h-24">
              <img [src]="item.product.thumbnail" [alt]="item.product.title" 
                   class="w-full h-full object-contain">
            </div>

            <!-- Product Details -->
            <div class="flex-1 min-w-0">
              <h3 class="text-lg font-medium text-gray-900">
                <a [routerLink]="['/products', item.product.id]" class="hover:text-indigo-600">
                  {{ item.product.title }}
                </a>
              </h3>
              <p class="mt-1 text-sm text-gray-500">{{ item.product.brand }}</p>
              <div class="mt-2 flex items-center">
                <span class="text-sm font-medium text-indigo-600">${{ getDiscountedPrice(item.product) | number:'1.2-2' }}</span>
                <span *ngIf="item.product.discountPercentage" class="ml-2 text-sm text-gray-500 line-through">
                  ${{ item.product.price | number:'1.2-2' }}
                </span>
              </div>
            </div>

            <!-- Quantity Controls -->
            <div class="flex items-center space-x-4">
              <div class="flex items-center border rounded-md">
                <button (click)="updateQuantity(item, item.quantity - 1)" 
                        [disabled]="item.quantity <= 1"
                        class="px-3 py-2 text-gray-600 hover:bg-gray-100 disabled:opacity-50">
                  -
                </button>
                <span class="px-4 py-2 text-gray-900">{{ item.quantity }}</span>
                <button (click)="updateQuantity(item, item.quantity + 1)" 
                        [disabled]="item.quantity >= item.product.stock"
                        class="px-3 py-2 text-gray-600 hover:bg-gray-100 disabled:opacity-50">
                  +
                </button>
              </div>
              <button (click)="removeItem(item)" 
                      class="text-red-600 hover:text-red-800">
                Remove
              </button>
            </div>

            <!-- Item Total -->
            <div class="text-right">
              <p class="text-lg font-medium text-gray-900">
                ${{ (getDiscountedPrice(item.product) * item.quantity) | number:'1.2-2' }}
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- Order Summary -->
      <div class="bg-white rounded-lg shadow p-6">
        <h2 class="text-lg font-medium text-gray-900 mb-4">Order Summary</h2>
        <div class="space-y-4">
          <div class="flex justify-between">
            <span class="text-gray-600">Subtotal</span>
            <span class="text-gray-900">${{ subtotal | number:'1.2-2' }}</span>
          </div>
          <div class="flex justify-between">
            <span class="text-gray-600">Shipping</span>
            <span class="text-gray-900">${{ shipping | number:'1.2-2' }}</span>
          </div>
          <div class="border-t pt-4">
            <div class="flex justify-between">
              <span class="text-lg font-medium text-gray-900">Total</span>
              <span class="text-lg font-medium text-gray-900">${{ total | number:'1.2-2' }}</span>
            </div>
          </div>
        </div>
        <button [routerLink]="['/checkout']" 
                class="mt-6 w-full bg-indigo-600 text-white py-3 px-6 rounded-md hover:bg-indigo-700 transition-colors duration-300">
          Proceed to Checkout
        </button>
      </div>
    </div>
  </div>
</div> 